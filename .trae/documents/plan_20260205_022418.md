# Implementation Plan: Student Profile Details Page Redesign

I will update the Student Profile Details page to match the requested 2-column layout, migrate the admin components, and add the new "Integration Progress" component.

## 1. Data Structure Updates
- **Update `StudentProfile` Type**: Add `onboardingStatus` to `types/students/studentProfile.ts` to track manual progress steps.
- **Server Action**: Add `updateOnboardingStatus` to `actions/studentProfile.ts` to handle manual checkbox updates.

## 2. New Components
- **`IntegrationProgress.tsx`** (Client Component):
  - Displays the 8-step integration list.
  - Automatically checks steps based on data (e.g., "Contract Signed" checks `contractStartDate`).
  - Allows manual toggling for specific steps ("Roadmap Created", etc.).
- **`StudentProfileTabs.tsx`** (Client Component):
  - Wraps the requested tabs (`Plan`, `Classes`, `Financial`, `Schedule`) for the right column.
  - Handles the tab switching state.

## 3. Page Layout (`app/[locale]/hub/manager/student-profiles/[id]/page.tsx`)
- **Fetch Data**:
  - Fetch `FullUserDetails` (if profile is associated).
  - Fetch `allTeachers`, `activePlan`, `templates` (required for tabs).
- **Structure**:
  - **Left Column (1/3)**:
    - **Profile Card**: Avatar, Name, Email, Association Status.
    - **Integration Progress**: The new component tracking onboarding.
  - **Right Column (2/3)**:
    - **Tabs**: Displays `UserPlanTab`, `UserClassesTab`, `UserFinancialTab`, and `UserScheduleManager`.
    - If the student is not associated yet, this area will show a "Waiting for association" state or be disabled.

## 4. Verification
- Verify that the layout matches the 1/3 - 2/3 split.
- Verify that "Integration Progress" steps update correctly (both automatic and manual).
- Verify that the migrated tabs (Plan, Classes, Financial, Schedule) load correctly with the student data.
