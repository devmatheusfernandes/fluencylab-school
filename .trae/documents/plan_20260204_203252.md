I will implement the "Generate Prompt Plan" feature which validates student data and uses AI to generate a specialized system instruction for future lesson planning.

### 1. Data Structure Updates

* **File:** `types/students/studentProfile.ts`

* **Change:** Add `generatedPromptPlan?: string` to the `StudentProfile` interface to store the generated prompt.

### 2. Backend Implementation (Server Action)

* **New File:** `actions/generatePromptPlan.ts`

* **Functionality:**

  * Fetch `StudentProfile`, `User` (for contract), and `PlacementResult` (for level).

  * **Validation:** Ensure all prerequisites are met:

    * Profile associated with a student.

    * Contract signed (`contractStartDate` exists).

    * Placement test completed.

    * Required profile fields filled (Goals, Frequency, Hobbies, etc.).

  * **AI Generation:**

    * Use `GoogleGenerativeAI` (Gemini).

    * Construct the prompt using the "Specialist in Prompt Engineering" persona provided.

    * Feed the student's profile data into the prompt.

    * Request the AI to generate the "Senior Lesson Plan Generator" system instruction.

  * **Persistence:** Save the generated result to `StudentProfile.generatedPromptPlan`.

### 3. Frontend Implementation

* **File:** `components/students/StudentProfileList.tsx`

* **UI Changes:**

  * Add a "Gerar plano prompt" button to the profile card (using the `Sparkles` icon or similar).

  * Implement a `PromptPlanModal` to display the generated prompt.

  * Handle the generation process with loading states and error toasts (e.g., "Missing contract" or "Placement not found").

  * Allow the user to save the generated prompt to StudentProfile

